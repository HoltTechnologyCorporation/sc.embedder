*** Settings ***

Resource  plone.txt

Suite Setup  Setup

*** Variables ***

*** Test cases ***

Test Add Embedder
    Goto Homepage
    Add Embedder  http://vimeo.com/17914974

Test Edit Embedder
    Goto Homepage
    Edit Embedder  The Backwater Gospel  Some description

*** Keywords ***

Setup
    Log In  admin  admin

Add File
    [arguments]  ${file}

    Choose File  css=input#form-widgets-image-input  ${file}

Add Embedder
    [arguments]  ${url}

    Open Add New Menu
    Click Link  css=a#sc-embedder
    Page Should Contain  Add Embedder
    Input Text  css=input#form-widgets-url  ${url}
    Click Button  Load
    Add File  ${PATH_TO_TEST_IMAGES}/image.jpg
    Click Button  Save
    Page Should Contain  Item created

Edit Embedder
    [arguments]  ${title}  ${description}

    Click Link  ${title}
    Click Link  link=Edit
    Input Text  css=textarea#form-widgets-IDublinCore-description.textarea-widget  ${description}
    Click Button  Apply
    Page Should Contain  Changes saved
